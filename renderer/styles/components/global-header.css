/**
 * Global Header Component Styles
 *
 * Used by: Global header bar spanning the entire application
 * Related files:
 *   - renderer/index.html (global-header section)
 *   - src/renderer/components/app-component.js (global header functionality)
 *   - GlobalHeader class in index.html inline script
 *
 * Features:
 *   - Cross-platform window drag support
 *   - Settings and sidebar toggle buttons
 *   - File breadcrumb display in center
 *   - macOS-style header bar design
 *   - Status indicators for connection state
 */

/* ============================================================================
   Base Global Header Layout
   ============================================================================ */
.global-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  height: 44px;
  background: var(--color-surface);
  border-bottom: 1px solid var(--color-border);
  padding: 0 var(--space-12);
  -webkit-app-region: drag; /* Make header draggable for window movement */
  z-index: var(--z-overlays); /* Use standardized z-index for global overlays */
  position: relative;
  box-shadow: var(--shadow-xs);
}

/* ============================================================================
   Header Layout Sections
   ============================================================================ */

/* Left section - typically contains navigation or branding */
.global-header-left {
  display: flex;
  align-items: center;
  gap: var(--space-12);
}

.global-header-center {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
}

.global-header-right {
  display: flex;
  align-items: center;
  gap: var(--space-8);
}

/* ============================================================================
   Interactive Header Buttons
   ============================================================================ */

/* Base styles for all header buttons (VSCode style) */
.global-header-btn {
  background: transparent;
  border: none;
  padding: var(--space-6);
  cursor: pointer;
  color: var(--color-text-secondary);
  border-radius: var(--radius-sm);
  transition: all var(--duration-fast) var(--ease-standard);
  -webkit-app-region: no-drag; /* Allow click events */
  display: flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
}

.global-header-btn:hover {
  background: var(--color-secondary);
  color: var(--color-text);
}

.global-header-btn:focus-visible {
  outline: var(--focus-outline);
  outline-offset: 2px;
}

.global-header-btn svg {
  display: block;
}

/* Active state for sidebar toggles */
.global-header-btn.sidebar-toggle.active {
  background: var(--color-primary);
  color: var(--color-btn-primary-text);
}

.global-header-btn.sidebar-toggle.active:hover {
  background: var(--color-primary-hover);
}

/* ============================================================================
   App Title and Text Elements
   ============================================================================ */

/* App title in global header */
.global-app-title {
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-medium);
  color: var(--color-text-secondary);
  margin: 0;
  -webkit-app-region: no-drag;
  user-select: none;
}

/* ============================================================================
   Status Indicators
   ============================================================================ */

/* Connection/status indicator in header */
.global-status-indicator {
  font-size: var(--font-size-xs);
  color: var(--color-text-secondary);
  display: flex;
  align-items: center;
  gap: var(--space-4);
  -webkit-app-region: no-drag;
  user-select: none;
}

.global-status-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: var(--color-success);
  flex-shrink: 0;
  transition: background var(--duration-fast) var(--ease-standard);
}

.global-status-dot.warning {
  background: var(--color-warning);
}

.global-status-dot.error {
  background: var(--color-error);
}

.global-status-dot.info {
  background: var(--color-info);
}

/* ============================================================================
   Global Search Button
   ============================================================================ */

/* Global search button in header */
.global-search-btn {
  margin-left: var(--space-8);
  opacity: 0.7;
  transition: all var(--duration-fast) var(--ease-standard);
}

.global-search-btn:hover {
  opacity: 1;
  background: var(--color-secondary);
  color: var(--color-text);
}

.global-search-btn:focus-visible {
  outline: var(--focus-outline);
  outline-offset: 2px;
}

/* ============================================================================
   Directory Breadcrumb Navigation
   ============================================================================ */

/* Container for directory breadcrumb navigation in global header */
.global-breadcrumb-container {
  max-width: 600px;
  min-width: 200px;
  overflow-x: auto;
  padding: 0 var(--space-8);
  /* Hide scrollbar but allow scrolling */
  scrollbar-width: none;
  -ms-overflow-style: none;
}

.global-breadcrumb-container::-webkit-scrollbar {
  display: none;
}

/* Directory path breadcrumb display */
.global-breadcrumb {
  display: flex;
  align-items: center;
  white-space: nowrap;
  font-size: var(--font-size-sm);
  color: var(--color-text-secondary);
  /* Align breadcrumb contents to the right so the current folder is always visible when the path fits */
  justify-content: flex-end;
}

.breadcrumb-segment {
  display: flex;
  align-items: center;
  gap: 4px;
  padding: 4px 6px;
  border-radius: 4px;
  transition: background-color 0.2s ease;
  -webkit-app-region: no-drag; /* Allow click events */
}

.breadcrumb-segment:not(.current) {
  cursor: pointer;
}

.breadcrumb-segment:not(.current):hover {
  background: var(--color-secondary-hover);
  color: var(--color-text);
}

.breadcrumb-segment.current {
  color: var(--color-text);
  font-weight: 500;
}

.breadcrumb-separator {
  margin: 0 4px;
  color: var(--color-text-secondary);
}

.breadcrumb-icon {
  font-size: 12px;
}

/* Legacy file breadcrumb styles (for compatibility) */
.global-breadcrumb-item {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.global-breadcrumb-separator {
  color: var(--color-text-secondary);
  opacity: 0.5;
}

/* ============================================================================
   Legacy Compatibility and Layout Integration
   ============================================================================ */

/* Hide old sidebar toggle button since it's moved to global header */
.sidebar-toggle-btn {
  display: none !important;
}

/* Remove top padding from sidebar since global header handles spacing */
.sidebar {
  padding-top: 0 !important;
}

/* Utility class for hiding sidebars - used by JavaScript toggle functionality */
.sidebar.hidden {
  display: none !important;
}

/* Base app content layout integration */
.app-content {
  display: flex;
  flex: 1;
}

/* ============================================================================
   Global Sidebar Toggle Button (specific variant)
   ============================================================================ */

/* Specific styles for sidebar toggle button in global header */
.global-sidebar-toggle-btn {
  background: transparent;
  border: none;
  padding: var(--space-6);
  cursor: pointer;
  color: var(--color-text-secondary);
  border-radius: var(--radius-sm);
  transition: all var(--duration-fast) var(--ease-standard);
  -webkit-app-region: no-drag; /* Allow click events */
  display: flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
}

.global-sidebar-toggle-btn:hover {
  background: var(--color-secondary);
  color: var(--color-text);
}

.global-sidebar-toggle-btn svg {
  display: block;
  width: 16px;
  height: 16px;
}